# SPDX-License-Identifier: Apache-2.0

# Enable ROPODS drivers and libraries
CONFIG_ROPODS_DRIVERS=y
CONFIG_ROPODS_LIBRARIES=y

# Enable sensor manager
CONFIG_SENSOR_MANAGER=y

# Enable ICM20948 sensor
CONFIG_ICM20948=y

# Enable SPI for ICM20948
CONFIG_SPI=y

# Enable sensor subsystem
CONFIG_SENSOR=y

# Enable GPIO for interrupt support
CONFIG_GPIO=y

# Enable logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_SENSOR_LOG_LEVEL_INF=y
CONFIG_SENSOR_MANAGER_LOG_LEVEL=3

# Enable trigger support
CONFIG_ICM20948_TRIGGER_GLOBAL_THREAD=y

# Enable threading
CONFIG_MULTITHREADING=y

# Memory configuration (optimized for BLE and quaternion data)
CONFIG_HEAP_MEM_POOL_SIZE=8192
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Console support
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Use nano libc for smaller footprint
CONFIG_NEWLIB_LIBC=y
CONFIG_NEWLIB_LIBC_NANO=y

# Optimize for nano libc
CONFIG_NEWLIB_LIBC_FLOAT_PRINTF=n
CONFIG_NEWLIB_LIBC_FLOAT_SCANF=n

# BLE Configuration
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="PPOD-Sensor"
CONFIG_BT_DEVICE_APPEARANCE=833
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1

# BLE Device Information Service
CONFIG_BT_DIS=y
CONFIG_BT_DIS_MANUF_NAME=y
CONFIG_BT_DIS_MODEL_NUMBER=y
CONFIG_BT_DIS_MANUF_NAME_STR="ROPODS"
CONFIG_BT_DIS_MODEL_NUMBER_STR="PPOD v2.0"

# BLE Battery Service
CONFIG_BT_BAS=y

# BLE Security
CONFIG_BT_SMP=y
CONFIG_BT_PRIVACY=y

# BLE MTU size for larger data packets
CONFIG_BT_L2CAP_TX_MTU=247
CONFIG_BT_BUF_ACL_TX_SIZE=251
CONFIG_BT_BUF_ACL_RX_SIZE=502

# Additional memory for BLE
CONFIG_BT_RX_STACK_SIZE=2048

# ROPODS BLE Service
CONFIG_ROPODS_BLE_SERVICE=y
